<div *ngIf="student" class="p-6 bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold mb-4">Wallet</h2>
  <p class="text-lg">
    <span class="font-semibold">Student:</span> {{ student.name }}
  </p>
  <p class="text-lg mb-4">
    <span class="font-semibold">Balance:</span> {{ student.balance }}
    {{ student.currency }}
  </p>

  <div class="mb-4">
    <button
      (click)="showAddMoneyForm()"
      *ngIf="!isAddingMoney"
      class="bg-blue-500 text-white px-4 py-2 rounded mr-2 hover:bg-blue-600"
    >
      Add Money
    </button>
    <button
      (click)="showWithdrawMoneyForm()"
      *ngIf="!isWithdrawingMoney"
      class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
    >
      Withdraw Money
    </button>
  </div>

  <div *ngIf="isAddingMoney" class="mb-4 p-4 border rounded-lg bg-gray-50">
    <h3 class="text-lg font-semibold mb-2">Add Money</h3>
    <input
      type="number"
      [(ngModel)]="amountToAdd"
      placeholder="Enter amount"
      class="border p-2 rounded mb-2 w-full"
    />
    <div>
      <button
        (click)="onAddMoney()"
        [disabled]="isAddMoneyDisabled()"
        class="bg-green-500 text-white px-4 py-2 rounded mr-2 hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Deposit
      </button>
      <button
        (click)="hideAddMoneyForm()"
        class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"
      >
        Cancel
      </button>
    </div>
  </div>

  <div *ngIf="isWithdrawingMoney" class="mb-4 p-4 border rounded-lg bg-gray-50">
    <h3 class="text-lg font-semibold mb-2">Withdraw Money</h3>
    <input
      type="number"
      [(ngModel)]="amountToWithdraw"
      placeholder="Enter amount"
      class="border p-2 rounded mb-2 w-full"
    />
    <div>
      <button
        (click)="onWithdrawMoney()"
        [disabled]="isWithdrawMoneyDisabled()"
        class="bg-yellow-500 text-white px-4 py-2 rounded mr-2 hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Withdraw
      </button>
      <button
        (click)="hideWithdrawMoneyForm()"
        class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"
      >
        Cancel
      </button>
    </div>
  </div>

  <h3 class="text-xl font-bold mb-2">Transactions</h3>
  <ul class="space-y-4">
    <li
      *ngFor="let transaction of student.wallet.transactions"
      class="p-4 border rounded-lg bg-gray-50"
    >
      <p class="font-semibold">Date:</p>
      <p class="mb-2">{{ transaction.date }}</p>
      <p class="font-semibold">Amount:</p>
      <p class="mb-2">{{ transaction.amount }}</p>
      <p class="font-semibold">Description:</p>
      <p>{{ transaction.description }}</p>
    </li>
  </ul>
</div>
